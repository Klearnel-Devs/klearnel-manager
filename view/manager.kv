#:kivy 1.9.0
#:import KivyLexer kivy.extras.highlight.KivyLexer
#:import Factory kivy.factory.Factory
#<Widget>:
#    canvas.after:
#        Line:
#            rectangle: self.x+1,self.y+1,self.width-1,self.height-1
#            dash_offset: 5
#            dash_length: 3

<ScToggleButton@ToggleButton>
    on_release:
        app.mod_sc(self, self.value, self.id, self.state)

<ScCheckBox@CheckBox+ListItemLabel>
    background_checkbox_disabled_down: 'atlas://data/images/defaulttheme/checkbox_on'
    background_checkbox_disabled_normal: 'atlas://data/images/defaulttheme/checkbox_off'
    disabled: True
    disabled_color: (1,1,1,1)
    text: ''

<HeaderBox@BoxLayout>
    orientation: 'horizontal'
    size_hint_y: 0.1
    Label:
        text: 'Path'
        size_hint_x: 0.5
    Label:
        text: 'BR_S'
        size_hint_x: 0.1
        font_size: 8
    Label:
        text: 'DUP_S'
        size_hint_x: 0.1
        font_size: 8
    Label:
        text: 'DUP_F'
        size_hint_x: 0.1
        font_size: 8
    Label:
        text: 'Integrity'
        size_hint_x: 0.1
        font_size: 8
    Label:
        text: 'Temp'
        size_hint_x: 0.1
        font_size: 8
    Label:
        text: 'BACKUP_OLD'
        size_hint_x: 0.1
        font_size: 8
    Label:
        text: 'DEL_F_OLD'
        size_hint_x: 0.1
        font_size: 8
    Label:
        text: 'BACKUP'
        size_hint_x: 0.1
        font_size: 8
    Label:
        text: 'DEL_F_SIZE'
        size_hint_x: 0.1
        font_size: 8

<StTextInput@TextInput>
    multiline: False
    write_tab: False

<ConnectButton@Button>
    on_press:
        app.connect(int(self.id))

<ActionSpinnerOptions@SpinnerOption>
    background_color: .4, .4, .4, 1

<ActionSpinner@Spinner+ActionItem>
    canvas.before:
        Color:
            rgba: 0.128, 0.128, 0.128, 1
        Rectangle:
            size: self.size
            pos: self.pos
    border: 27, 20, 12, 12
    option_cls: Factory.ActionSpinnerOptions

<ActionDropdown>:
    on_size: self.width = '220dp'

<ManagerScreen>:
    ScrollView:
        do_scroll_x: False
        do_scroll_y: False if root.fullscreen else (content.height > root.height - dp(16))
        AnchorLayout:
            size_hint_y: None
            height: root.height if root.fullscreen else max(root.height, content.height)
            GridLayout:
                id: content
                cols: 1
                spacing: '8dp'
                padding: '8dp'
                size_hint: (1, 1) if root.fullscreen else (.8, None)
                height: self.height if root.fullscreen else self.minimum_height

BoxLayout:
    orientation: 'vertical'

    canvas.before:
        Color:
            rgb: .6, .6, .6
        Rectangle:
            size: self.size
            source: '../view/data/background.png'



    ScreenManager:
        id: sm
